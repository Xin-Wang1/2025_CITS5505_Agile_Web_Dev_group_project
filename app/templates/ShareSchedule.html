{% extends "base.html" %}

{% block title %}Share Schedule Forum{% endblock %}

{% block head %}
  <link href="{{ url_for('static', filename='css/shareschedule.css') }}" rel="stylesheet">
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
{% endblock %}

{% block content %}
<div class="container-fluid">
  <h1>Share Your Timetable</h1>
  <p class="text-muted">Post your schedule and comment below.</p>

  <!-- Posts List -->
  <div id="postsList" class="mb-4"></div>

  <!-- New Post Form -->
  <div class="card mb-4">
    <div class="card-body">
      <h5 class="card-title">Post a New Timetable</h5>
      <form id="postForm" enctype="multipart/form-data">
        <div class="form-group mb-3">
          <label for="postUser" class="form-label">Your Name</label>
          <input type="text" class="form-control" id="postUser" placeholder="Enter your name" value="{{ current_user.username if current_user.is_authenticated else '' }}" required>
        </div>
        <div class="form-group mb-3">
          <label for="postTitle" class="form-label">Title</label>
          <input type="text" class="form-control" id="postTitle" placeholder="Enter post title" required>
        </div>
        <div class="form-group mb-3">
          <label for="postContent" class="form-label">Timetable Details</label>
          <textarea class="form-control" id="postContent" rows="4" placeholder="Paste or describe your timetable..." required></textarea>
        </div>
        <div class="form-group mb-3">
          <label for="postFile" class="form-label">Attach a File (optional)</label>
          <input type="file" class="form-control" id="postFile">
        </div>
        <button type="submit" class="btn btn-primary">Post</button>
      </form>
    </div>
  </div>
</div>

<script src="{{ url_for('static', filename='js/shareschedule.js') }}"></script>
{% endblock %}