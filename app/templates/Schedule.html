{% extends "base.html" %}

{% block title %}Schedule{% endblock %}

{% block head %}
  <link href="{{ url_for('static', filename='css/schedule.css') }}" rel="stylesheet">
 
{% endblock %}

{% block content %}
<main class="container flex-grow-1 my-4">

<!-- Weekly Calendar -->
<div class="table-responsive">
  <h2 class="mb-4">Generated Schedule</h2>
  <table class="table table-bordered text-center">
    <thead class="table-light">
      <tr>
        <th>Time</th>
        <th>Monday</th>
        <th>Tuesday</th>
        <th>Wednesday</th>
        <th>Thursday</th>
        <th>Friday</th>
      </tr>
    </thead>
    <tbody>
      {% for hour in range(8, 21) %}
      <tr>
        <td>{{ hour }}:00 - {{ hour + 1 }}:00</td>
        <td id="monday-{{ hour }}"></td>
        <td id="tuesday-{{ hour }}"></td>
        <td id="wednesday-{{ hour }}"></td>
        <td id="thursday-{{ hour }}"></td>
        <td id="friday-{{ hour }}"></td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

<!-- Selected Units -->
<h3>Selected Units</h3>
<ul class="list-group mb-4">
  {% for unit in selected_units %}
  <li class="list-group-item">
    <strong>{{ unit.name }}</strong>
    <p>{{ unit.credits }}</p>
    {% for  times in unit.class_times %}
    <p>Time slot:{{ times.start_time}}-{{ times.end_time}}</p>
    {% endfor %}
  </li>
  {% endfor %}
</ul>

<!-- Total Credits -->
<div class="alert alert-info">
  <strong>Total Credits:</strong> 10
</div>

<hr class="my-4">

<!-- Adjust Preferences -->
<h3>Adjust Preferences</h3>
<form method="POST" action="/adjust-schedule">
  <div class="mb-3">
    <label for="unavailable-day" class="form-label">Mark a Day as Unavailable</label>
    <select class="form-select" id="unavailable-day" name="unavailable-day">
      <option value="Monday">Monday</option>
      <option value="Tuesday">Tuesday</option>
      <option value="Wednesday">Wednesday</option>
      <option value="Thursday">Thursday</option>
      <option value="Friday">Friday</option>
    </select>
  </div>
  <div class="mb-3">
    <label for="unavailable-time" class="form-label">Mark a Time Slot as Unavailable</label>
    <input type="text" class="form-control" id="unavailable-time" name="unavailable-time" placeholder="e.g., 10:00 - 12:00">
  </div>
  <button type="submit" class="btn btn-primary">Update Preferences</button>
</form>
</main>
{% endblock %} 
{% block scripts %}
  <script src="{{ url_for('static', filename='js/unit.js') }}"></script>
{% endblock %}

